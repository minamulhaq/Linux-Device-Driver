CompileFlags:
  Add:
    - -nostdinc
    - -isystem/usr/lib/gcc-cross/arm-linux-gnueabihf/12/include
    # Common headers (where linux/device.h lives)
    - -I/usr/src/linux-headers-6.12.62+rpt-common-rpi/include
    - -I/usr/src/linux-headers-6.12.62+rpt-common-rpi/include/linux
    - -I/usr/src/linux-headers-6.12.62+rpt-common-rpi/arch/arm64/include
    - -I/usr/src/linux-headers-6.12.62+rpt-common-rpi/arch/arm64/include/uapi
    - -I/usr/src/linux-headers-6.12.62+rpt-common-rpi/include/uapi
    # Architecture-specific generated headers
    - -I/usr/src/linux-headers-6.12.62+rpt-rpi-v8/arch/arm64/include/generated
    - -I/usr/src/linux-headers-6.12.62+rpt-rpi-v8/arch/arm64/include/generated/uapi
    - -I/usr/src/linux-headers-6.12.62+rpt-rpi-v8/include/generated/uapi
    - -I/usr/src/linux-headers-6.12.62+rpt-rpi-v8/include
    - -D__KERNEL__
    - -DMODULE
    - -DCONFIG_ARM64
    - -DCONFIG_64BIT
    - --target=aarch64-linux-gnu
    - -std=gnu11
  
  Remove:
    # Remove GCC-specific flags that Clang doesn't understand
    - -ftrivial-auto-var-init=zero
    - -fconserve-stack
    - -fno-allow-store-data-races
    - -mpreferred-stack-boundary=*
    - -mindirect-branch*
    - -fno-inline-functions-called-once
    - -fno-jump-tables
    - -mabi=lp64
    - -mgeneral-regs-only
    - -mno-outline-atomics
    - -fno-delete-null-pointer-checks
    - -fno-var-tracking-assignments
    - -Wno-maybe-uninitialized
    - -march=*
    - -mtune=*
    - -mbranch-protection=*
    - -mstack-protector-guard*
    - -Wa,-march=*
    - -fpatchable-function-entry=*
    - -fmacro-prefix-map=*
    - -Wframe-larger-than=*
    - -Wimplicit-fallthrough=*

Diagnostics:
  UnusedIncludes: None
  MissingIncludes: None
  Suppress:
    - unknown_argument
    - drv_unknown_argument
EOF

